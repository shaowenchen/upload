(function(){"use strict";var e={8642:function(e,t,n){var l=n(9522),o=n(4145),r=n(3751),i=n(641),a=n(33);const u={class:"table-container"},s=["href"],d={style:{"margin-top":"20px","text-align":"right"}};function c(e,t,n,l,o,c){const p=(0,i.g2)("DragUpload");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.bF)(p),(0,i.bo)((0,i.Lk)("div",u,[(0,i.Lk)("table",null,[t[1]||(t[1]=(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[(0,i.Lk)("th",null,"File"),(0,i.Lk)("th",null,"Size"),(0,i.Lk)("th",null,"Link")])],-1)),(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.filelist,(e=>((0,i.uX)(),(0,i.CE)("tr",{key:e.name},[(0,i.Lk)("td",null,(0,a.v_)(e.name),1),(0,i.Lk)("td",null,(0,a.v_)(c.humansize(e.size)),1),(0,i.Lk)("td",null,[(0,i.Lk)("a",{href:e.download_url,target:"_blank"},"Open",8,s)])])))),128))])]),(0,i.Lk)("div",d,[(0,i.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>c.clearFiles&&c.clearFiles(...e)),style:{padding:"8px 16px","background-color":"#808080",color:"white",border:"none","border-radius":"4px",cursor:"pointer"}},"Clear")])],512),[[r.aG,o.tableVisible]])],64)}var p=n(4335);const f={class:"file-drag"},b={class:"upload"},h={key:0},k={class:"file-table"},v={key:0},y={key:1},m=["onClick"],L={key:2},g={key:3},x={key:1},C={class:"drop-active"},F={class:"example-btn"};function w(e,t,n,l,o,u){const s=(0,i.g2)("file-upload");return(0,i.uX)(),(0,i.CE)("div",f,[(0,i.Lk)("div",b,[o.files.length?((0,i.uX)(),(0,i.CE)("ul",h,[(0,i.Lk)("table",k,[t[3]||(t[3]=(0,i.Lk)("tr",null,[(0,i.Lk)("th",null,"File"),(0,i.Lk)("th",null,"Size"),(0,i.Lk)("th",null,"Status")],-1)),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.files,(e=>((0,i.uX)(),(0,i.CE)("tr",{key:e.id},[(0,i.Lk)("td",null,[(0,i.Lk)("span",null,(0,a.v_)(e.name),1)]),(0,i.Lk)("td",null,[(0,i.Lk)("span",null,(0,a.v_)(u.humansize(e.size)),1)]),(0,i.Lk)("td",null,[e.error?((0,i.uX)(),(0,i.CE)("span",v,(0,a.v_)(e.error),1)):e.success?((0,i.uX)(),(0,i.CE)("span",y,[(0,i.Lk)("button",{class:"btn btn-sm btn-success",type:"button",onClick:t=>u.doCopy(e.response.data.download_url)}," Copy ",8,m)])):e.active?((0,i.uX)(),(0,i.CE)("span",L,"Uploading")):((0,i.uX)(),(0,i.CE)("span",g))])])))),128))])])):((0,i.uX)(),(0,i.CE)("ul",x,t[4]||(t[4]=[(0,i.Lk)("div",{class:"text-center"},[(0,i.Lk)("h4",null,[(0,i.eW)("Drop files to upload"),(0,i.Lk)("br"),(0,i.eW)("or")]),(0,i.Lk)("label",{for:"file",class:"btn btn-lg btn-primary"},"Select Files")],-1)]))),(0,i.bo)((0,i.Lk)("div",C,t[5]||(t[5]=[(0,i.Lk)("h3",null,"Drop files to upload",-1)]),512),[[r.aG,e.$refs.upload&&e.$refs.upload.dropActive]]),(0,i.Lk)("div",F,[(0,i.bF)(s,{class:"btn btn-primary","post-action":"https://uploadapi.chenshaowen.com/api/v1/files",multiple:!0,drop:!0,"drop-directory":!0,modelValue:o.files,"onUpdate:modelValue":t[0]||(t[0]=e=>o.files=e),ref:"upload"},{default:(0,i.k6)((()=>t[6]||(t[6]=[(0,i.Lk)("i",{class:"fa fa-plus"},null,-1),(0,i.eW)(" Select files ")]))),_:1},8,["modelValue"]),e.$refs.upload&&e.$refs.upload.active?((0,i.uX)(),(0,i.CE)("button",{key:1,type:"button",class:"btn btn-danger",onClick:t[2]||(t[2]=(0,r.D$)((t=>e.$refs.upload.active=!1),["prevent"]))},t[8]||(t[8]=[(0,i.Lk)("i",{class:"fa fa-stop","aria-hidden":"true"},null,-1),(0,i.eW)(" Stop Upload ")]))):((0,i.uX)(),(0,i.CE)("button",{key:0,type:"button",class:"btn btn-success",onClick:t[1]||(t[1]=(0,r.D$)((t=>e.$refs.upload.active=!0),["prevent"]))},t[7]||(t[7]=[(0,i.Lk)("i",{class:"fa fa-arrow-up","aria-hidden":"true"},null,-1),(0,i.eW)(" Start Upload ")])))])])])}var E=n(8568),S=n.n(E),O=n(1201),X={name:"DragUpload",components:{FileUpload:S()},data(){return{files:[]}},methods:{humansize:function(e){return e>1099511627776?(e/1024/1024/1024/1024).toFixed(2)+" TB":e>1073741824?(e/1024/1024/1024).toFixed(2)+" GB":e>1048576?(e/1024/1024).toFixed(2)+" MB":e>1024?(e/1024).toFixed(2)+" KB":e.toString()+" B"},downloadlink:function(e){return e},doCopy:function(e){(0,O.D)(this.downloadlink(e),void 0,((t,n)=>{t?alert("I lost it!"):alert("I got it! "+this.downloadlink(e)),console.log(n)}))}}},_=n(6262);const j=(0,_.A)(X,[["render",w]]);var B=j,U={name:"App",data(){return{filelist:[],tableVisible:!1}},components:{DragUpload:B},watch:{filelist:function(){this.tableVisible=this.filelist.length>0}},created:function(){this.updateFileList()},methods:{humansize:function(e){return e>1099511627776?(e/1024/1024/1024/1024).toFixed(2)+" TB":e>1073741824?(e/1024/1024/1024).toFixed(2)+" GB":e>1048576?(e/1024/1024).toFixed(2)+" MB":e>1024?(e/1024).toFixed(2)+" KB":e.toString()+" B"},updateFileList:function(){this.filelist=[],p.A.get("https://uploadapi.chenshaowen.com/api/v1/files").then((e=>{this.filelist=e.data.data.list}))},clearFiles:function(){p.A.get("https://uploadapi.chenshaowen.com/api/v1/clear").then((()=>{this.updateFileList()})).catch((e=>{console.error("Error clearing files:",e),alert("Failed to clear files")}))}}};const z=(0,_.A)(U,[["render",c]]);var D=z,$=n(5220);const A=[{path:"/upload",name:"Upload",component:D}],M=(0,$.aE)({history:(0,$.LA)("/upload"),routes:A});var T=M;const V=(0,r.Ef)(D);l.T({app:V,dsn:"https://1ad03b81432243f58fd49388418e892b@o4505286646038528.ingest.sentry.io/4505306287964160",integrations:[new o.fe],replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1}),V.use(T),V.mount("#app")}},t={};function n(l){var o=t[l];if(void 0!==o)return o.exports;var r=t[l]={id:l,loaded:!1,exports:{}};return e[l].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}n.m=e,function(){var e=[];n.O=function(t,l,o,r){if(!l){var i=1/0;for(d=0;d<e.length;d++){l=e[d][0],o=e[d][1],r=e[d][2];for(var a=!0,u=0;u<l.length;u++)(!1&r||i>=r)&&Object.keys(n.O).every((function(e){return n.O[e](l[u])}))?l.splice(u--,1):(a=!1,r<i&&(i=r));if(a){e.splice(d--,1);var s=o();void 0!==s&&(t=s)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[l,o,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var l in t)n.o(t,l)&&!n.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,l){var o,r,i=l[0],a=l[1],u=l[2],s=0;if(i.some((function(t){return 0!==e[t]}))){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(u)var d=u(n)}for(t&&t(l);s<i.length;s++)r=i[s],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(d)},l=self["webpackChunkweb"]=self["webpackChunkweb"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=n.O(void 0,[504],(function(){return n(8642)}));l=n.O(l)})();
//# sourceMappingURL=app.fd13eeaf.js.map